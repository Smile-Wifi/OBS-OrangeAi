<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Mixer - StreamPro Studio</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#00d4ff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="StreamPro Studio">
    <meta name="application-name" content="StreamPro Studio">
    <meta name="msapplication-TileColor" content="#00d4ff">
    <meta name="msapplication-TileImage" content="resources/icon-192.png">
    
    <!-- Web App Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Icons -->
    <link rel="icon" type="image/png" sizes="32x32" href="resources/icon-32.png">
    <link rel="icon" type="image/png" sizes="192x192" href="resources/icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="resources/icon-512.png">
    <link rel="apple-touch-icon" href="resources/icon-192.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.3.2/pixi.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-bg: #0d0d0d;
            --secondary-bg: #1a1a1a;
            --panel-bg: #2d2d2d;
            --accent-blue: #00d4ff;
            --accent-green: #00ff88;
            --accent-orange: #ff8c00;
            --accent-red: #ff4757;
            --text-primary: #ffffff;
            --text-secondary: #b3b3b3;
            --border-color: #404040;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--primary-bg);
            color: var(--text-primary);
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(0, 212, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(0, 255, 136, 0.1) 0%, transparent 50%);
        }

        .font-mono { font-family: 'JetBrains Mono', monospace; }
        .font-display { font-family: 'Poppins', sans-serif; }

        .glass-nav {
            backdrop-filter: blur(20px);
            background: rgba(26, 26, 26, 0.8);
            border-bottom: 1px solid rgba(64, 64, 64, 0.3);
        }

        .panel {
            background: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-blue), #0099cc);
            border: none;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 16px rgba(0, 212, 255, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 212, 255, 0.4);
        }

        .btn-secondary {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: var(--panel-bg);
            border-color: var(--accent-blue);
        }

        .mixer-channel {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            transition: all 0.3s ease;
        }

        .mixer-channel:hover {
            border-color: var(--accent-blue);
            box-shadow: 0 4px 16px rgba(0, 212, 255, 0.2);
        }

        .channel-header {
            display: flex;
            align-items: center;
            justify-content: between;
            margin-bottom: 16px;
        }

        .channel-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
        }

        .fader-container {
            position: relative;
            width: 60px;
            height: 200px;
            background: var(--primary-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin: 0 auto 16px;
        }

        .fader-track {
            position: absolute;
            left: 50%;
            top: 8px;
            bottom: 8px;
            width: 4px;
            background: var(--secondary-bg);
            border-radius: 2px;
            transform: translateX(-50%);
        }

        .fader-handle {
            position: absolute;
            left: 50%;
            width: 50px;
            height: 20px;
            background: var(--accent-blue);
            border-radius: 4px;
            cursor: pointer;
            transform: translateX(-50%);
            box-shadow: 0 2px 8px rgba(0, 212, 255, 0.4);
            transition: all 0.2s ease;
        }

        .fader-handle:hover {
            background: #00b8e6;
            transform: translateX(-50%) scale(1.1);
        }

        .vu-meter-container {
            display: flex;
            align-items: end;
            justify-content: center;
            height: 120px;
            margin-bottom: 16px;
        }

        .vu-meter {
            width: 8px;
            height: 100%;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            position: relative;
            overflow: hidden;
            margin: 0 2px;
        }

        .vu-fill {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, var(--accent-green) 0%, var(--accent-orange) 70%, var(--accent-red) 100%);
            border-radius: 2px;
            transition: height 0.1s ease;
            box-shadow: 0 0 8px rgba(0, 255, 136, 0.3);
        }

        .vu-peak {
            position: absolute;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--accent-red);
            border-radius: 1px;
            transition: bottom 0.1s ease;
        }

        .channel-controls {
            display: flex;
            flex-direction: column;
            space-y: 12px;
        }

        .control-group {
            margin-bottom: 12px;
        }

        .control-label {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 4px;
            display: block;
        }

        .control-button {
            width: 100%;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .control-button:hover {
            background: var(--panel-bg);
            border-color: var(--accent-blue);
        }

        .control-button.active {
            background: var(--accent-blue);
            border-color: var(--accent-blue);
            color: white;
        }

        .eq-container {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .eq-sliders {
            display: flex;
            align-items: end;
            justify-content: space-between;
            height: 120px;
            margin-bottom: 16px;
        }

        .eq-slider {
            width: 30px;
            height: 100px;
            background: var(--primary-bg);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            position: relative;
            cursor: pointer;
        }

        .eq-slider-handle {
            position: absolute;
            left: 50%;
            width: 26px;
            height: 8px;
            background: var(--accent-blue);
            border-radius: 2px;
            cursor: pointer;
            transform: translateX(-50%);
            transition: all 0.2s ease;
        }

        .eq-slider-handle:hover {
            background: #00b8e6;
            transform: translateX(-50%) scale(1.1);
        }

        .eq-frequency {
            font-size: 10px;
            color: var(--text-secondary);
            text-align: center;
            margin-top: 4px;
        }

        .master-section {
            background: linear-gradient(135deg, var(--panel-bg), var(--secondary-bg));
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            margin-top: 24px;
        }

        .master-fader {
            width: 80px;
            height: 300px;
            background: var(--primary-bg);
            border: 2px solid var(--accent-blue);
            border-radius: 12px;
            position: relative;
            margin: 0 auto;
        }

        .master-handle {
            width: 70px;
            height: 30px;
            background: linear-gradient(135deg, var(--accent-blue), #0099cc);
            border-radius: 6px;
            position: absolute;
            left: 5px;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 16px rgba(0, 212, 255, 0.4);
        }

        .master-handle:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(0, 212, 255, 0.6);
        }

        .audio-visualizer {
            width: 100%;
            height: 200px;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            position: relative;
            overflow: hidden;
        }

        .waveform-container {
            height: 100%;
            display: flex;
            align-items: end;
            justify-content: space-between;
            padding: 16px;
        }

        .waveform-bar {
            width: 3px;
            background: linear-gradient(to top, var(--accent-blue), var(--accent-green));
            border-radius: 1px;
            transition: height 0.1s ease;
            margin: 0 1px;
        }

        .fade-in {
            opacity: 0;
            transform: translateY(20px);
        }

        .effects-rack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 16px;
        }

        .effect-unit {
            background: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 16px;
        }

        .effect-header {
            display: flex;
            align-items: center;
            justify-content: between;
            margin-bottom: 12px;
        }

        .effect-toggle {
            width: 40px;
            height: 20px;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .effect-toggle.active {
            background: var(--accent-blue);
            border-color: var(--accent-blue);
        }

        .effect-toggle::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 16px;
            height: 16px;
            background: white;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .effect-toggle.active::after {
            transform: translateX(20px);
        }

        @media (max-width: 768px) {
            .fader-container {
                height: 150px;
            }
            
            .master-fader {
                height: 200px;
            }
            
            .effects-rack {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="glass-nav fixed top-0 left-0 right-0 z-50 px-6 py-4">
        <div class="flex items-center justify-between">
            <div class="flex items-center space-x-8">
                <h1 class="font-display text-2xl font-bold text-white">StreamPro Studio</h1>
                <div class="hidden md:flex space-x-6">
                    <a href="index.html" class="text-gray-300 hover:text-blue-400 transition-colors font-medium">Dashboard</a>
                    <a href="scenes.html" class="text-gray-300 hover:text-blue-400 transition-colors font-medium">Scenes</a>
                    <a href="audio.html" class="text-white hover:text-blue-400 transition-colors font-medium border-b-2 border-blue-400">Audio</a>
                    <a href="settings.html" class="text-gray-300 hover:text-blue-400 transition-colors font-medium">Settings</a>
                </div>
            </div>
            <div class="flex items-center space-x-4">
                <button class="btn-primary" onclick="applyAudioSettings()">Apply Settings</button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-24 px-6 pb-6">
        <!-- Page Header -->
        <section class="fade-in mb-8">
            <div class="text-center">
                <h2 class="font-display text-4xl md:text-5xl font-bold mb-4">
                    <span class="text-blue-400">Audio</span>
                    <span class="text-white">Mixer</span>
                </h2>
                <p class="text-xl text-gray-300 max-w-3xl mx-auto">
                    Professional multi-channel audio mixing with real-time visualization, EQ, and effects processing.
                </p>
            </div>
        </section>

        <!-- Audio Channels -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <!-- Microphone Channel -->
            <div class="mixer-channel fade-in">
                <div class="channel-header">
                    <div class="channel-icon bg-blue-500">
                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <div>
                        <h3 class="font-medium">Microphone</h3>
                        <p class="text-xs text-gray-400">Shure SM7B</p>
                    </div>
                </div>

                <!-- VU Meter -->
                <div class="vu-meter-container">
                    <div class="vu-meter">
                        <div class="vu-fill" style="height: 25%"></div>
                        <div class="vu-peak" style="bottom: 30%"></div>
                    </div>
                    <div class="vu-meter">
                        <div class="vu-fill" style="height: 30%"></div>
                        <div class="vu-peak" style="bottom: 35%"></div>
                    </div>
                </div>

                <!-- Fader -->
                <div class="fader-container">
                    <div class="fader-track"></div>
                    <div class="fader-handle" style="bottom: 60%" data-channel="mic"></div>
                </div>

                <!-- Channel Controls -->
                <div class="channel-controls">
                    <div class="control-group">
                        <span class="control-label">Volume</span>
                        <span class="font-mono text-sm text-blue-400">-12 dB</span>
                    </div>
                    
                    <div class="control-group">
                        <button class="control-button active" onclick="toggleMute('mic')">
                            <span id="mic-mute-text">Mute</span>
                        </button>
                    </div>
                    
                    <div class="control-group">
                        <button class="control-button" onclick="toggleMonitor('mic')">
                            <span id="mic-monitor-text">Monitor Off</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Desktop Audio Channel -->
            <div class="mixer-channel fade-in">
                <div class="channel-header">
                    <div class="channel-icon bg-purple-500">
                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.617.776L4.5 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.5l3.883-3.776zM15 8a3 3 0 110-6 3 3 0 010 6z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <div>
                        <h3 class="font-medium">Desktop Audio</h3>
                        <p class="text-xs text-gray-400">System Audio</p>
                    </div>
                </div>

                <!-- VU Meter -->
                <div class="vu-meter-container">
                    <div class="vu-meter">
                        <div class="vu-fill" style="height: 85%"></div>
                        <div class="vu-peak" style="bottom: 90%"></div>
                    </div>
                    <div class="vu-meter">
                        <div class="vu-fill" style="height: 80%"></div>
                        <div class="vu-peak" style="bottom: 85%"></div>
                    </div>
                </div>

                <!-- Fader -->
                <div class="fader-container">
                    <div class="fader-track"></div>
                    <div class="fader-handle" style="bottom: 80%" data-channel="desktop"></div>
                </div>

                <!-- Channel Controls -->
                <div class="channel-controls">
                    <div class="control-group">
                        <span class="control-label">Volume</span>
                        <span class="font-mono text-sm text-blue-400">-6 dB</span>
                    </div>
                    
                    <div class="control-group">
                        <button class="control-button active" onclick="toggleMute('desktop')">
                            <span id="desktop-mute-text">Mute</span>
                        </button>
                    </div>
                    
                    <div class="control-group">
                        <button class="control-button" onclick="toggleMonitor('desktop')">
                            <span id="desktop-monitor-text">Monitor Off</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Media Source Channel -->
            <div class="mixer-channel fade-in">
                <div class="channel-header">
                    <div class="channel-icon bg-pink-500">
                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <div>
                        <h3 class="font-medium">Media Source</h3>
                        <p class="text-xs text-gray-400">Background Music</p>
                    </div>
                </div>

                <!-- VU Meter -->
                <div class="vu-meter-container">
                    <div class="vu-meter">
                        <div class="vu-fill" style="height: 45%"></div>
                        <div class="vu-peak" style="bottom: 50%"></div>
                    </div>
                    <div class="vu-meter">
                        <div class="vu-fill" style="height: 40%"></div>
                        <div class="vu-peak" style="bottom: 45%"></div>
                    </div>
                </div>

                <!-- Fader -->
                <div class="fader-container">
                    <div class="fader-track"></div>
                    <div class="fader-handle" style="bottom: 40%" data-channel="media"></div>
                </div>

                <!-- Channel Controls -->
                <div class="channel-controls">
                    <div class="control-group">
                        <span class="control-label">Volume</span>
                        <span class="font-mono text-sm text-blue-400">-24 dB</span>
                    </div>
                    
                    <div class="control-group">
                        <button class="control-button active" onclick="toggleMute('media')">
                            <span id="media-mute-text">Mute</span>
                        </button>
                    </div>
                    
                    <div class="control-group">
                        <button class="control-button active" onclick="toggleMonitor('media')">
                            <span id="media-monitor-text">Monitor On</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Application Audio Channel -->
            <div class="mixer-channel fade-in">
                <div class="channel-header">
                    <div class="channel-icon bg-green-500">
                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <div>
                        <h3 class="font-medium">Application</h3>
                        <p class="text-xs text-gray-400">Discord</p>
                    </div>
                </div>

                <!-- VU Meter -->
                <div class="vu-meter-container">
                    <div class="vu-meter">
                        <div class="vu-fill" style="height: 35%"></div>
                        <div class="vu-peak" style="bottom: 40%"></div>
                    </div>
                    <div class="vu-meter">
                        <div class="vu-fill" style="height: 30%"></div>
                        <div class="vu-peak" style="bottom: 35%"></div>
                    </div>
                </div>

                <!-- Fader -->
                <div class="fader-container">
                    <div class="fader-track"></div>
                    <div class="fader-handle" style="bottom: 55%" data-channel="app"></div>
                </div>

                <!-- Channel Controls -->
                <div class="channel-controls">
                    <div class="control-group">
                        <span class="control-label">Volume</span>
                        <span class="font-mono text-sm text-blue-400">-18 dB</span>
                    </div>
                    
                    <div class="control-group">
                        <button class="control-button active" onclick="toggleMute('app')">
                            <span id="app-mute-text">Mute</span>
                        </button>
                    </div>
                    
                    <div class="control-group">
                        <button class="control-button" onclick="toggleMonitor('app')">
                            <span id="app-monitor-text">Monitor Off</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Audio Visualizer & EQ -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <!-- Audio Visualizer -->
            <div class="panel p-6">
                <h3 class="font-display text-xl font-semibold mb-4">Audio Visualizer</h3>
                <div class="audio-visualizer">
                    <div class="waveform-container" id="waveform-container">
                        <!-- Waveform bars will be generated here -->
                    </div>
                </div>
                <div class="flex items-center justify-between mt-4">
                    <div class="flex space-x-2">
                        <button class="btn-secondary text-sm" onclick="changeVisualization('waveform')">Waveform</button>
                        <button class="btn-secondary text-sm" onclick="changeVisualization('spectrum')">Spectrum</button>
                        <button class="btn-secondary text-sm" onclick="changeVisualization('circular')">Circular</button>
                    </div>
                    <span class="text-sm text-gray-400">Real-time Audio</span>
                </div>
            </div>

            <!-- Equalizer -->
            <div class="panel p-6">
                <h3 class="font-display text-xl font-semibold mb-4">Equalizer</h3>
                <div class="eq-container">
                    <div class="eq-sliders" id="eq-sliders">
                        <div class="text-center">
                            <div class="eq-slider" data-freq="60">
                                <div class="eq-slider-handle" style="bottom: 50%"></div>
                            </div>
                            <div class="eq-frequency">60Hz</div>
                        </div>
                        <div class="text-center">
                            <div class="eq-slider" data-freq="250">
                                <div class="eq-slider-handle" style="bottom: 60%"></div>
                            </div>
                            <div class="eq-frequency">250Hz</div>
                        </div>
                        <div class="text-center">
                            <div class="eq-slider" data-freq="1k">
                                <div class="eq-slider-handle" style="bottom: 70%"></div>
                            </div>
                            <div class="eq-frequency">1kHz</div>
                        </div>
                        <div class="text-center">
                            <div class="eq-slider" data-freq="4k">
                                <div class="eq-slider-handle" style="bottom: 65%"></div>
                            </div>
                            <div class="eq-frequency">4kHz</div>
                        </div>
                        <div class="text-center">
                            <div class="eq-slider" data-freq="16k">
                                <div class="eq-slider-handle" style="bottom: 55%"></div>
                            </div>
                            <div class="eq-frequency">16kHz</div>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <button class="btn-secondary text-sm" onclick="resetEQ()">Reset</button>
                        <button class="btn-primary text-sm" onclick="saveEQPreset()">Save Preset</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Master Section -->
        <div class="master-section fade-in">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Master Fader -->
                <div class="text-center">
                    <h3 class="font-display text-xl font-semibold mb-4">Master Volume</h3>
                    <div class="master-fader">
                        <div class="fader-track" style="width: 4px; left: 50%; transform: translateX(-50%); height: calc(100% - 60px); top: 30px;"></div>
                        <div class="master-handle" style="bottom: 75%"></div>
                    </div>
                    <div class="mt-4">
                        <span class="font-mono text-lg text-blue-400">-3 dB</span>
                        <p class="text-sm text-gray-400">Master Output</p>
                    </div>
                </div>

                <!-- Audio Settings -->
                <div>
                    <h3 class="font-display text-xl font-semibold mb-4">Audio Settings</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="control-label">Sample Rate</label>
                            <select class="control-button">
                                <option value="44100">44.1 kHz</option>
                                <option value="48000" selected>48 kHz</option>
                                <option value="96000">96 kHz</option>
                            </select>
                        </div>
                        <div>
                            <label class="control-label">Channels</label>
                            <select class="control-button">
                                <option value="mono">Mono</option>
                                <option value="stereo" selected>Stereo</option>
                                <option value="surround">5.1 Surround</option>
                            </select>
                        </div>
                        <div>
                            <label class="control-label">Buffer Size</label>
                            <select class="control-button">
                                <option value="128">128 samples</option>
                                <option value="256" selected>256 samples</option>
                                <option value="512">512 samples</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Audio Effects -->
                <div>
                    <h3 class="font-display text-xl font-semibold mb-4">Audio Effects</h3>
                    <div class="effects-rack">
                        <div class="effect-unit">
                            <div class="effect-header">
                                <span class="font-medium text-sm">Noise Gate</span>
                                <div class="effect-toggle active" onclick="toggleEffect('gate')"></div>
                            </div>
                            <div class="text-xs text-gray-400">Threshold: -35dB</div>
                        </div>
                        
                        <div class="effect-unit">
                            <div class="effect-header">
                                <span class="font-medium text-sm">Compressor</span>
                                <div class="effect-toggle active" onclick="toggleEffect('compressor')"></div>
                            </div>
                            <div class="text-xs text-gray-400">Ratio: 3:1</div>
                        </div>
                        
                        <div class="effect-unit">
                            <div class="effect-header">
                                <span class="font-medium text-sm">Limiter</span>
                                <div class="effect-toggle" onclick="toggleEffect('limiter')"></div>
                            </div>
                            <div class="text-xs text-gray-400">Threshold: -1dB</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="app.js"></script>
    <script>
        // Audio Mixer functionality
        class AudioMixer {
            constructor() {
                this.channels = {
                    mic: { volume: 60, muted: false, monitor: false },
                    desktop: { volume: 80, muted: false, monitor: false },
                    media: { volume: 40, muted: false, monitor: true },
                    app: { volume: 55, muted: false, monitor: false }
                };
                this.masterVolume = 75;
                this.eqSettings = [50, 60, 70, 65, 55]; // Percentage values
                this.effects = {
                    gate: true,
                    compressor: true,
                    limiter: false
                };
                this.init();
            }

            init() {
                this.setupFaders();
                this.startVUMeterAnimation();
                this.generateWaveform();
                this.animatePageLoad();
                this.setupEQSliders();
            }

            setupFaders() {
                document.querySelectorAll('.fader-handle, .master-handle').forEach(handle => {
                    this.setupFaderDrag(handle);
                });
            }

            setupFaderDrag(handle) {
                let isDragging = false;
                let startY = 0;
                let startBottom = 0;
                const isMaster = handle.classList.contains('master-handle');
                const container = isMaster ? handle.parentElement : handle.parentElement;
                const maxBottom = container.offsetHeight - handle.offsetHeight - 16; // 8px padding top and bottom

                handle.addEventListener('mousedown', (e) => {
                    isDragging = true;
                    startY = e.clientY;
                    startBottom = parseInt(handle.style.bottom) || 0;
                    handle.style.cursor = 'grabbing';
                    document.body.style.cursor = 'grabbing';
                    e.preventDefault();
                });

                document.addEventListener('mousemove', (e) => {
                    if (!isDragging) return;
                    
                    const deltaY = startY - e.clientY;
                    let newBottom = Math.max(0, Math.min(maxBottom, startBottom + deltaY));
                    
                    handle.style.bottom = newBottom + 'px';
                    
                    // Update volume
                    const percentage = (newBottom / maxBottom) * 100;
                    if (isMaster) {
                        this.masterVolume = percentage;
                        this.updateMasterVolume(percentage);
                    } else {
                        const channel = handle.dataset.channel;
                        if (channel && this.channels[channel]) {
                            this.channels[channel].volume = percentage;
                            this.updateChannelVolume(channel, percentage);
                        }
                    }
                });

                document.addEventListener('mouseup', () => {
                    if (isDragging) {
                        isDragging = false;
                        handle.style.cursor = 'pointer';
                        document.body.style.cursor = 'default';
                    }
                });
            }

            updateChannelVolume(channel, percentage) {
                const db = Math.round((100 - percentage) * -0.6);
                const channelElement = document.querySelector(`[data-channel="${channel}"]`).closest('.mixer-channel');
                const volumeDisplay = channelElement.querySelector('.font-mono');
                volumeDisplay.textContent = db + ' dB';
            }

            updateMasterVolume(percentage) {
                const db = Math.round((100 - percentage) * -0.6);
                const volumeDisplay = document.querySelector('.master-section .font-mono');
                volumeDisplay.textContent = db + ' dB';
            }

            startVUMeterAnimation() {
                setInterval(() => {
                    Object.keys(this.channels).forEach(channel => {
                        const channelData = this.channels[channel];
                        if (!channelData.muted) {
                            const baseVolume = channelData.volume;
                            const variation = Math.random() * 30 - 15;
                            const leftLevel = Math.max(5, Math.min(100, baseVolume + variation));
                            const rightLevel = Math.max(5, Math.min(100, baseVolume + (Math.random() * 20 - 10)));
                            
                            const channelElement = document.querySelector(`[data-channel="${channel}"]`).closest('.mixer-channel');
                            const leftMeter = channelElement.querySelectorAll('.vu-fill')[0];
                            const rightMeter = channelElement.querySelectorAll('.vu-fill')[1];
                            const leftPeak = channelElement.querySelectorAll('.vu-peak')[0];
                            const rightPeak = channelElement.querySelectorAll('.vu-peak')[1];
                            
                            anime({
                                targets: leftMeter,
                                height: leftLevel + '%',
                                duration: 100,
                                easing: 'easeOutQuad'
                            });
                            
                            anime({
                                targets: rightMeter,
                                height: rightLevel + '%',
                                duration: 100,
                                easing: 'easeOutQuad'
                            });
                            
                            // Update peak indicators
                            leftPeak.style.bottom = Math.min(95, leftLevel + 5) + '%';
                            rightPeak.style.bottom = Math.min(95, rightLevel + 5) + '%';
                        }
                    });
                }, 100);
            }

            generateWaveform() {
                const container = document.getElementById('waveform-container');
                container.innerHTML = '';
                
                for (let i = 0; i < 64; i++) {
                    const bar = document.createElement('div');
                    bar.className = 'waveform-bar';
                    bar.style.height = Math.random() * 80 + 10 + '%';
                    container.appendChild(bar);
                }
                
                // Animate waveform
                setInterval(() => {
                    document.querySelectorAll('.waveform-bar').forEach(bar => {
                        const newHeight = Math.random() * 80 + 10;
                        anime({
                            targets: bar,
                            height: newHeight + '%',
                            duration: 100,
                            easing: 'easeOutQuad'
                        });
                    });
                }, 150);
            }

            setupEQSliders() {
                document.querySelectorAll('.eq-slider').forEach(slider => {
                    const handle = slider.querySelector('.eq-slider-handle');
                    this.setupEQDrag(handle, slider);
                });
            }

            setupEQDrag(handle, slider) {
                let isDragging = false;
                let startY = 0;
                let startBottom = 0;
                const maxBottom = slider.offsetHeight - handle.offsetHeight;

                handle.addEventListener('mousedown', (e) => {
                    isDragging = true;
                    startY = e.clientY;
                    startBottom = parseInt(handle.style.bottom) || 0;
                    handle.style.cursor = 'grabbing';
                    document.body.style.cursor = 'grabbing';
                    e.preventDefault();
                });

                document.addEventListener('mousemove', (e) => {
                    if (!isDragging) return;
                    
                    const deltaY = startY - e.clientY;
                    let newBottom = Math.max(0, Math.min(maxBottom, startBottom + deltaY));
                    
                    handle.style.bottom = newBottom + 'px';
                    
                    // Update EQ value
                    const percentage = (newBottom / maxBottom) * 100;
                    const frequency = slider.dataset.freq;
                    this.updateEQ(frequency, percentage);
                });

                document.addEventListener('mouseup', () => {
                    if (isDragging) {
                        isDragging = false;
                        handle.style.cursor = 'pointer';
                        document.body.style.cursor = 'default';
                    }
                });
            }

            updateEQ(frequency, percentage) {
                // Update EQ settings
                const index = ['60', '250', '1k', '4k', '16k'].indexOf(frequency);
                if (index !== -1) {
                    this.eqSettings[index] = percentage;
                }
            }

            animatePageLoad() {
                anime({
                    targets: '.fade-in',
                    opacity: [0, 1],
                    translateY: [20, 0],
                    duration: 800,
                    delay: anime.stagger(100),
                    easing: 'easeOutQuad'
                });

                anime({
                    targets: '.mixer-channel',
                    opacity: [0, 1],
                    translateY: [30, 0],
                    duration: 600,
                    delay: anime.stagger(150),
                    easing: 'easeOutQuad'
                });
            }

            showNotification(message) {
                const notification = document.createElement('div');
                notification.className = 'fixed top-20 right-6 bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-full';
                notification.textContent = message;
                
                document.body.appendChild(notification);
                
                anime({
                    targets: notification,
                    translateX: [400, 0],
                    duration: 300,
                    easing: 'easeOutQuad'
                });
                
                setTimeout(() => {
                    anime({
                        targets: notification,
                        translateX: [0, 400],
                        opacity: [1, 0],
                        duration: 300,
                        easing: 'easeInQuad',
                        complete: () => notification.remove()
                    });
                }, 3000);
            }
        }

        // Global functions
        function toggleMute(channel) {
            if (window.audioMixer) {
                window.audioMixer.channels[channel].muted = !window.audioMixer.channels[channel].muted;
                const button = document.getElementById(channel + '-mute-text');
                const buttonElement = button.parentElement;
                
                if (window.audioMixer.channels[channel].muted) {
                    button.textContent = 'Unmute';
                    buttonElement.classList.remove('active');
                    window.audioMixer.showNotification(`${channel} channel muted`);
                } else {
                    button.textContent = 'Mute';
                    buttonElement.classList.add('active');
                    window.audioMixer.showNotification(`${channel} channel unmuted`);
                }
            }
        }

        function toggleMonitor(channel) {
            if (window.audioMixer) {
                window.audioMixer.channels[channel].monitor = !window.audioMixer.channels[channel].monitor;
                const button = document.getElementById(channel + '-monitor-text');
                
                if (window.audioMixer.channels[channel].monitor) {
                    button.textContent = 'Monitor On';
                    button.parentElement.classList.add('active');
                } else {
                    button.textContent = 'Monitor Off';
                    button.parentElement.classList.remove('active');
                }
            }
        }

        function changeVisualization(type) {
            if (window.audioMixer) {
                window.audioMixer.showNotification(`Visualization changed to ${type}`);
                // Here you would implement different visualization types
            }
        }

        function resetEQ() {
            if (window.audioMixer) {
                window.audioMixer.eqSettings = [50, 60, 70, 65, 55];
                document.querySelectorAll('.eq-slider-handle').forEach((handle, index) => {
                    const percentage = window.audioMixer.eqSettings[index];
                    handle.style.bottom = percentage + '%';
                });
                window.audioMixer.showNotification('EQ reset to default');
            }
        }

        function saveEQPreset() {
            if (window.audioMixer) {
                window.audioMixer.showNotification('EQ preset saved');
            }
        }

        function toggleEffect(effectName) {
            if (window.audioMixer) {
                window.audioMixer.effects[effectName] = !window.audioMixer.effects[effectName];
                const toggle = event.target;
                toggle.classList.toggle('active');
                window.audioMixer.showNotification(`${effectName} ${window.audioMixer.effects[effectName] ? 'enabled' : 'disabled'}`);
            }
        }

        function applyAudioSettings() {
            if (window.audioMixer) {
                window.audioMixer.showNotification('Audio settings applied successfully');
            }
        }

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            window.audioMixer = new AudioMixer();
        });
    </script>
</body>
</html>